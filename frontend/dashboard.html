<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - IdeaHub</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                fontFamily: {
                    sans: ['Outfit', 'sans-serif'],
                },
                extend: {
                    colors: {
                        primary: '#6366f1',
                        secondary: '#ec4899',
                        dark: '#0f172a',
                    },
                    animation: {
                        'float': 'float 8s ease-in-out infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .glass {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(16px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .glass-panel {
            background: rgba(30, 41, 59, 0.7);
            /* Slightly darker for readability */
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .blob {
            position: absolute;
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, rgba(99, 102, 241, 0.15) 0%, rgba(15, 23, 42, 0) 70%);
            border-radius: 50%;
            z-index: -1;
            pointer-events: none;
        }

        /* Custom Scrollbar for dark theme */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #0f172a;
        }

        ::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #475569;
        }
    </style>
</head>

<body class="bg-dark text-gray-100 font-sans min-h-screen relative overflow-x-hidden">

    <!-- Ambient Background -->
    <div class="blob top-0 left-0 -translate-x-1/2 -translate-y-1/2 animate-float"></div>
    <div class="blob bottom-0 right-0 translate-x-1/3 translate-y-1/3 animate-float" style="animation-delay: 4s"></div>
    <div class="fixed inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 pointer-events-none">
    </div>

    <!-- Navbar -->
    <nav class="glass sticky top-0 z-50 border-b border-white/5">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <!-- Left -->
                <div class="flex items-center">
                    <span class="text-2xl font-bold tracking-tight">Idea<span class="text-primary">Hub</span></span>
                    <div class="hidden md:flex ml-10 space-x-8">
                        <a href="dashboard.html"
                            class="text-white border-b-2 border-primary px-1 py-1 font-medium">Feed</a>
                        <a href="team-dashboard.html"
                            class="text-gray-400 hover:text-white px-1 py-1 font-medium transition">Teams</a>
                    </div>
                </div>
                <!-- Right -->
                <div class="flex items-center space-x-4">
                    <a href="post-idea.html"
                        class="bg-primary hover:bg-indigo-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition shadow-lg shadow-indigo-500/30">
                        + Post Idea
                    </a>
                    <div class="relative group">
                        <button class="flex items-center space-x-2 text-gray-300 hover:text-white transition">
                            <span
                                class="h-8 w-8 rounded-full bg-gradient-to-br from-primary to-secondary flex items-center justify-center text-white font-bold text-xs"
                                id="nav-user-initial">U</span>
                        </button>
                        <!-- Dropdown -->
                        <div class="absolute right-0 top-full pt-2 w-48 hidden group-hover:block transition z-50">
                            <div class="bg-[#1e293b] border border-white/10 rounded-xl shadow-xl py-1">
                                <a href="profile.html"
                                    class="block px-4 py-2 text-sm text-gray-300 hover:bg-white/5 hover:text-white">my
                                    Profile</a>
                                <a href="#" onclick="logout()"
                                    class="block px-4 py-2 text-sm text-red-400 hover:bg-white/5 hover:text-red-300">Sign
                                    out</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-8">

            <!-- Left Sidebar (Filters/Profile) -->
            <div class="hidden lg:block lg:col-span-1">
                <div class="glass-panel rounded-xl p-6 sticky top-24">
                    <h3 class="text-lg font-bold text-white mb-4 flex items-center">
                        <svg class="w-5 h-5 mr-2 text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z">
                            </path>
                        </svg>
                        Filters
                    </h3>
                    <div class="space-y-3">
                        <label class="flex items-center space-x-3 cursor-pointer group">
                            <input type="checkbox"
                                class="form-checkbox text-primary rounded bg-white/10 border-white/20 focus:ring-primary focus:ring-offset-dark">
                            <span class="text-gray-300 group-hover:text-white transition">AI & ML</span>
                        </label>
                        <label class="flex items-center space-x-3 cursor-pointer group">
                            <input type="checkbox"
                                class="form-checkbox text-primary rounded bg-white/10 border-white/20 focus:ring-primary focus:ring-offset-dark">
                            <span class="text-gray-300 group-hover:text-white transition">Web Development</span>
                        </label>
                        <label class="flex items-center space-x-3 cursor-pointer group">
                            <input type="checkbox"
                                class="form-checkbox text-primary rounded bg-white/10 border-white/20 focus:ring-primary focus:ring-offset-dark">
                            <span class="text-gray-300 group-hover:text-white transition">IoT</span>
                        </label>
                    </div>
                </div>

                <div class="mt-6 glass-panel rounded-xl p-6 sticky top-[300px]">
                    <h3 class="text-sm font-bold text-gray-400 uppercase tracking-wider mb-4">Trending Tags</h3>
                    <div class="flex flex-wrap gap-2">
                        <span
                            class="bg-indigo-500/10 text-indigo-300 border border-indigo-500/20 px-2.5 py-1 rounded-md text-xs font-medium cursor-pointer hover:bg-indigo-500/20 transition">#kotlin</span>
                        <span
                            class="bg-indigo-500/10 text-indigo-300 border border-indigo-500/20 px-2.5 py-1 rounded-md text-xs font-medium cursor-pointer hover:bg-indigo-500/20 transition">#spring</span>
                        <span
                            class="bg-indigo-500/10 text-indigo-300 border border-indigo-500/20 px-2.5 py-1 rounded-md text-xs font-medium cursor-pointer hover:bg-indigo-500/20 transition">#react</span>
                    </div>
                </div>
            </div>

            <!-- Main Feed -->
            <div class="lg:col-span-2 space-y-6" id="ideas-container">
                <!-- Loading State -->
                <div class="glass-panel rounded-xl p-6 animate-pulse">
                    <div class="flex items-center mb-4">
                        <div class="w-10 h-10 bg-white/10 rounded-full mr-3"></div>
                        <div class="space-y-2">
                            <div class="h-3 bg-white/10 rounded w-24"></div>
                            <div class="h-2 bg-white/10 rounded w-16"></div>
                        </div>
                    </div>
                    <div class="h-6 bg-white/10 rounded w-3/4 mb-4"></div>
                    <div class="space-y-2">
                        <div class="h-3 bg-white/10 rounded w-full"></div>
                        <div class="h-3 bg-white/10 rounded w-5/6"></div>
                    </div>
                </div>
            </div>

            <!-- Right Sidebar (Trending/Recommendations) -->
            <div class="hidden lg:block lg:col-span-1">
                <div class="glass-panel rounded-xl p-6 sticky top-24">
                    <h3 class="text-lg font-bold text-white mb-4 flex items-center">
                        <span class="mr-2">ðŸŽ¯</span> Recommended
                    </h3>
                    <ul class="space-y-4">
                        <li class="pb-3 border-b border-white/5 last:border-0 group">
                            <a href="#" class="block hover:bg-white/5 rounded-lg p-2 -m-2 transition">
                                <h4 class="font-medium text-gray-200 text-sm group-hover:text-primary transition">Smart
                                    Traffic Light</h4>
                                <div class="flex items-center mt-1 text-xs text-gray-500">
                                    <svg class="w-3 h-3 mr-1" fill="currentColor" viewBox="0 0 20 20">
                                        <path
                                            d="M2 10.5a1.5 1.5 0 113 0v6a1.5 1.5 0 01-3 0v-6zM6 10.333v5.43a2 2 0 001.106 1.79l.05.025A4 4 0 008.943 18h5.416a2 2 0 001.962-1.608l1.2-6A2 2 0 0015.56 8H12V4a2 2 0 00-2-2 1 1 0 00-1 1v.667a4 4 0 01-.8 2.4L6.8 7.933a4 4 0 00-.8 2.4z" />
                                    </svg>
                                    <span>24 upvotes</span>
                                </div>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

        </div>
    </div>

    <!-- Move scripts to end -->
    <script src="js/idea.js"></script>
    <script>
        // Check auth
        const user = JSON.parse(localStorage.getItem('user'));
        if (!user) window.location.href = 'login.html';
        const userInitialEl = document.getElementById('nav-user-initial');
        if (userInitialEl) {
            userInitialEl.innerText = user.username ? user.username.charAt(0).toUpperCase() : 'U';
        }

        function logout() {
            localStorage.removeItem('user');
            window.location.href = 'login.html';
        }

        // Initial load
        window.addEventListener('DOMContentLoaded', fetchIdeas);
    </script>
</body>

</html>